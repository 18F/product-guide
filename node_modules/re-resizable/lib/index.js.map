{"version":3,"file":"index.js","sources":["../src/resizer.js","../src/index.js"],"sourcesContent":["/* @flow */\n\nimport * as React from 'react';\n\nconst styles = {\n  base: {\n    position: 'absolute',\n    userSelect: 'none',\n    MsUserSelect: 'none',\n  },\n  top: {\n    width: '100%',\n    height: '10px',\n    top: '-5px',\n    left: '0px',\n    cursor: 'row-resize',\n  },\n  right: {\n    width: '10px',\n    height: '100%',\n    top: '0px',\n    right: '-5px',\n    cursor: 'col-resize',\n  },\n  bottom: {\n    width: '100%',\n    height: '10px',\n    bottom: '-5px',\n    left: '0px',\n    cursor: 'row-resize',\n  },\n  left: {\n    width: '10px',\n    height: '100%',\n    top: '0px',\n    left: '-5px',\n    cursor: 'col-resize',\n  },\n  topRight: {\n    width: '20px',\n    height: '20px',\n    position: 'absolute',\n    right: '-10px',\n    top: '-10px',\n    cursor: 'ne-resize',\n  },\n  bottomRight: {\n    width: '20px',\n    height: '20px',\n    position: 'absolute',\n    right: '-10px',\n    bottom: '-10px',\n    cursor: 'se-resize',\n  },\n  bottomLeft: {\n    width: '20px',\n    height: '20px',\n    position: 'absolute',\n    left: '-10px',\n    bottom: '-10px',\n    cursor: 'sw-resize',\n  },\n  topLeft: {\n    width: '20px',\n    height: '20px',\n    position: 'absolute',\n    left: '-10px',\n    top: '-10px',\n    cursor: 'nw-resize',\n  },\n};\n\nexport type Direction = 'top' | 'right' | 'bottom' | 'left' | 'topRight' | 'bottomRight' | 'bottomLeft' | 'topLeft';\n\nexport type OnStartCallback = (\n  e: SyntheticMouseEvent<HTMLDivElement> | SyntheticTouchEvent<HTMLDivElement>,\n  dir: Direction,\n) => void;\n\nexport type Props = {\n  direction: Direction,\n  className?: string,\n  replaceStyles?: { [key: string]: string | number },\n  onResizeStart: OnStartCallback,\n  children: ?React.ChildrenArray<*>,\n};\n\nexport default (props: Props): React.Element<'div'> => {\n  return (\n    <div\n      className={props.className}\n      style={{\n        ...styles.base,\n        ...styles[props.direction],\n        ...(props.replaceStyles || {}),\n      }}\n      onMouseDown={(e: SyntheticMouseEvent<HTMLDivElement>) => {\n        props.onResizeStart(e, props.direction);\n      }}\n      onTouchStart={(e: SyntheticTouchEvent<HTMLDivElement>) => {\n        props.onResizeStart(e, props.direction);\n      }}\n    >\n      {props.children}\n    </div>\n  );\n};\n","/* @flow */\n\nimport * as React from 'react';\nimport Resizer from './resizer';\n\nimport type { Direction, OnStartCallback } from './resizer';\n\nconst userSelectNone = {\n  userSelect: 'none',\n  MozUserSelect: 'none',\n  WebkitUserSelect: 'none',\n  MsUserSelect: 'none',\n};\n\nconst userSelectAuto = {\n  userSelect: 'auto',\n  MozUserSelect: 'auto',\n  WebkitUserSelect: 'auto',\n  MsUserSelect: 'auto',\n};\n\nexport type ResizeDirection = Direction;\n\nexport type Style = {\n  [key: string]: string | number,\n};\n\nexport type Enable = {\n  top?: boolean,\n  right?: boolean,\n  bottom?: boolean,\n  left?: boolean,\n  topRight?: boolean,\n  bottomRight?: boolean,\n  bottomLeft?: boolean,\n  topLeft?: boolean,\n};\n\nexport type HandleStyles = {\n  top?: Style,\n  right?: Style,\n  bottom?: Style,\n  left?: Style,\n  topRight?: Style,\n  bottomRight?: Style,\n  bottomLeft?: Style,\n  topLeft?: Style,\n};\n\nexport type HandleClassName = {\n  top?: string,\n  right?: string,\n  bottom?: string,\n  left?: string,\n  topRight?: string,\n  bottomRight?: string,\n  bottomLeft?: string,\n  topLeft?: string,\n};\n\nexport type Size = {\n  width: string | number,\n  height: string | number,\n};\n\ntype NumberSize = {\n  width: number,\n  height: number,\n};\n\nexport type HandleComponent = {\n  top?: React.ElementType,\n  right?: React.ElementType,\n  bottom?: React.ElementType,\n  left?: React.ElementType,\n  topRight?: React.ElementType,\n  bottomRight?: React.ElementType,\n  bottomLeft?: React.ElementType,\n  topLeft?: React.ElementType,\n};\n\nexport type ResizeCallback = (\n  event: MouseEvent | TouchEvent,\n  direction: Direction,\n  elementRef: React.ElementRef<'div'>,\n  delta: NumberSize,\n) => void;\n\nexport type ResizeStartCallback = (\n  e: SyntheticMouseEvent<HTMLDivElement> | SyntheticTouchEvent<HTMLDivElement>,\n  dir: Direction,\n  elementRef: React.ElementRef<'div'>,\n) => void;\n\nexport type ResizableProps = {\n  style?: Style,\n  className?: string,\n  grid?: [number, number],\n  bounds?: 'parent' | 'window' | HTMLElement,\n  size?: Size,\n  minWidth?: string | number,\n  minHeight?: string | number,\n  maxWidth?: string | number,\n  maxHeight?: string | number,\n  lockAspectRatio?: boolean | number,\n  lockAspectRatioExtraWidth: number,\n  lockAspectRatioExtraHeight: number,\n  enable?: Enable,\n  handleStyles?: HandleStyles,\n  handleClasses?: HandleClassName,\n  handleWrapperStyle?: Style,\n  handleWrapperClass?: string,\n  handleComponent?: HandleComponent,\n  children?: React.Node,\n  onResizeStart?: ResizeStartCallback,\n  onResize?: ResizeCallback,\n  onResizeStop?: ResizeCallback,\n  defaultSize?: Size,\n};\n\ntype State = {\n  isResizing: boolean,\n  resizeCursor: string,\n  direction: Direction,\n  original: {\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n  },\n  width: number | string,\n  height: number | string,\n};\n\nconst clamp = (n: number, min: number, max: number): number => Math.max(Math.min(n, max), min);\nconst snap = (n: number, size: number): number => Math.round(n / size) * size;\n\nconst endsWith = (str: string, searchStr: string): boolean =>\n  str.substr(str.length - searchStr.length, searchStr.length) === searchStr;\n\nconst getStringSize = (n: number | string): string => {\n  if (endsWith(n.toString(), 'px')) return n.toString();\n  if (endsWith(n.toString(), '%')) return n.toString();\n  return `${n}px`;\n};\n\nconst definedProps = [\n  'style',\n  'className',\n  'grid',\n  'bounds',\n  'size',\n  'defaultSize',\n  'minWidth',\n  'minHeight',\n  'maxWidth',\n  'maxHeight',\n  'lockAspectRatio',\n  'lockAspectRatioExtraWidth',\n  'lockAspectRatioExtraHeight',\n  'enable',\n  'handleStyles',\n  'handleClasses',\n  'handleWrapperStyle',\n  'handleWrapperClass',\n  'children',\n  'onResizeStart',\n  'onResize',\n  'onResizeStop',\n  'handleComponent',\n];\n\nexport default class Resizable extends React.Component<ResizableProps, State> {\n  resizable: React.ElementRef<'div'>;\n  onTouchMove: ResizeCallback;\n  onMouseMove: ResizeCallback;\n  onMouseUp: ResizeCallback;\n  onResizeStart: OnStartCallback;\n  baseSizeId: string;\n  extendsProps: { [key: string]: any };\n\n  static baseSizeId = 0;\n\n  static defaultProps = {\n    onResizeStart: () => { },\n    onResize: () => { },\n    onResizeStop: () => { },\n    enable: {\n      top: true,\n      right: true,\n      bottom: true,\n      left: true,\n      topRight: true,\n      bottomRight: true,\n      bottomLeft: true,\n      topLeft: true,\n    },\n    style: {},\n    grid: [1, 1],\n    lockAspectRatio: false,\n    lockAspectRatioExtraWidth: 0,\n    lockAspectRatioExtraHeight: 0,\n  };\n\n  constructor(props: ResizableProps) {\n    super(props);\n    this.state = {\n      isResizing: false,\n      resizeCursor: 'auto',\n      width:\n        typeof (this.propsSize && this.propsSize.width) === 'undefined'\n          ? 'auto'\n          : (this.propsSize && this.propsSize.width: any),\n      height:\n        typeof (this.propsSize && this.propsSize.height) === 'undefined'\n          ? 'auto'\n          : (this.propsSize && this.propsSize.height: any),\n      direction: 'right',\n      original: {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0,\n      },\n    };\n\n    this.updateExtendsProps(props);\n    this.onResizeStart = this.onResizeStart.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this.baseSizeId = `__resizable${Resizable.baseSizeId}`;\n    Resizable.baseSizeId += 1;\n\n    if (typeof window !== 'undefined') {\n      window.addEventListener('mouseup', this.onMouseUp);\n      window.addEventListener('mousemove', this.onMouseMove);\n      window.addEventListener('touchmove', this.onMouseMove);\n      window.addEventListener('touchend', this.onMouseUp);\n    }\n  }\n\n  get parentNode(): HTMLElement {\n    return ((this.resizable: any).parentNode: any);\n  }\n\n  get propsSize(): ?Size {\n    return this.props.size || this.props.defaultSize;\n  }\n\n  updateExtendsProps(props: ResizableProps) {\n    this.extendsProps = Object.keys(props).reduce((acc, key) => {\n      if (definedProps.indexOf(key) !== -1) return acc;\n      acc[key] = props[key];\n      return acc;\n    }, {});\n  }\n\n  getParentSize(): { width: number, height: number } {\n    const base = (document.getElementById(this.baseSizeId): any);\n    if (!base) return { width: window.innerWidth, height: window.innerHeight };\n    // INFO: To calculate parent width with flex layout\n    let wrapChanged = false;\n    const wrap = this.parentNode.style.flexWrap;\n    const minWidth = (base: HTMLDivElement).style.minWidth;\n    if (wrap !== 'wrap') {\n      wrapChanged = true;\n      this.parentNode.style.flexWrap = 'wrap';\n    }\n    (base: HTMLDivElement).style.minWidth = '100%';\n    const size = {\n      width: (base: HTMLDivElement).offsetWidth,\n      height: (base: HTMLDivElement).offsetHeight,\n    };\n    if (wrapChanged) this.parentNode.style.flexWrap = wrap;\n    (base: HTMLDivElement).style.minWidth = minWidth;\n    return size;\n  }\n\n  componentDidMount() {\n    const { size } = this;\n    this.setState({\n      width: this.state.width || size.width,\n      height: this.state.height || size.height,\n    });\n    const parent = this.parentNode;\n    if (!(parent instanceof HTMLElement)) return;\n    if (parent.querySelector('.__resizable_parent')) return;\n    const element = document.createElement('div');\n    element.id = this.baseSizeId;\n    element.style.width = '100%';\n    element.style.height = '100%';\n    element.style.position = 'relative';\n    element.style.transform = 'scale(0, 0)';\n    element.style.left = '-2147483647px';\n    element.style.flex = '0';\n    if (element.classList) {\n      element.classList.add('__resizable_parent');\n    } else {\n      element.className += ' __resizable_parent';\n    }\n    parent.appendChild(element);\n  }\n\n  componentWillReceiveProps(next: ResizableProps) {\n    this.updateExtendsProps(next);\n  }\n\n  componentWillUnmount() {\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('mouseup', this.onMouseUp);\n      window.removeEventListener('mousemove', this.onMouseMove);\n      window.removeEventListener('touchmove', this.onMouseMove);\n      window.removeEventListener('touchend', this.onMouseUp);\n\n      const parent = this.parentNode;\n      const base = document.getElementById(this.baseSizeId);\n      if (!base) return;\n      if (!(parent instanceof HTMLElement) || !(base instanceof Node)) return;\n      parent.removeChild(base);\n    }\n  }\n\n  calculateNewSize(newSize: number | string, kind: 'width' | 'height'): number | string {\n    const propsSize = this.propsSize && this.propsSize[kind];\n    return this.state[kind] === 'auto' &&\n      this.state.original[kind] === newSize &&\n      (typeof propsSize === 'undefined' || propsSize === 'auto')\n      ? 'auto'\n      : newSize;\n  }\n\n  onResizeStart(\n    event: SyntheticMouseEvent<HTMLDivElement> | SyntheticTouchEvent<HTMLDivElement>,\n    direction: Direction,\n  ) {\n    let clientX = 0;\n    let clientY = 0;\n    if (event.nativeEvent instanceof MouseEvent) {\n      clientX = event.nativeEvent.clientX;\n      clientY = event.nativeEvent.clientY;\n\n      // When user click with right button the resize is stuck in resizing mode\n      // until users clicks again, dont continue if right click is used.\n      if (event.nativeEvent.which === 3) {\n        return;\n      }\n    } else if (event.nativeEvent instanceof TouchEvent) {\n      clientX = event.nativeEvent.touches[0].clientX;\n      clientY = event.nativeEvent.touches[0].clientY;\n    }\n    if (this.props.onResizeStart) {\n      this.props.onResizeStart(event, direction, (this.resizable: React.ElementRef<'div'>));\n    }\n\n    // Fix #168\n    if (this.props.size) {\n      if (typeof this.props.size.height !== 'undefined' && this.props.size.height !== this.state.height) {\n        this.setState({ height: this.props.size.height });\n      }\n      if (typeof this.props.size.width !== 'undefined' && this.props.size.width !== this.state.width) {\n        this.setState({ width: this.props.size.width });\n      }\n    }\n\n    this.setState({\n      original: {\n        x: clientX,\n        y: clientY,\n        width: this.size.width,\n        height: this.size.height,\n      },\n      isResizing: true,\n      resizeCursor: window.getComputedStyle(event.target).cursor,\n      direction,\n    });\n  }\n\n  onMouseMove(event: MouseEvent | TouchEvent) {\n    if (!this.state.isResizing) return;\n    const clientX = event instanceof MouseEvent ? event.clientX : event.touches[0].clientX;\n    const clientY = event instanceof MouseEvent ? event.clientY : event.touches[0].clientY;\n    const {\n      direction, original, width, height,\n    } = this.state;\n    const { lockAspectRatio, lockAspectRatioExtraHeight, lockAspectRatioExtraWidth } = this.props;\n    let {\n      maxWidth, maxHeight, minWidth, minHeight,\n    } = this.props;\n\n    // TODO: refactor\n    const parentSize = this.getParentSize();\n    if (maxWidth && typeof maxWidth === 'string' && endsWith(maxWidth, '%')) {\n      const ratio = Number(maxWidth.replace('%', '')) / 100;\n      maxWidth = parentSize.width * ratio;\n    }\n    if (maxHeight && typeof maxHeight === 'string' && endsWith(maxHeight, '%')) {\n      const ratio = Number(maxHeight.replace('%', '')) / 100;\n      maxHeight = parentSize.height * ratio;\n    }\n    if (minWidth && typeof minWidth === 'string' && endsWith(minWidth, '%')) {\n      const ratio = Number(minWidth.replace('%', '')) / 100;\n      minWidth = parentSize.width * ratio;\n    }\n    if (minHeight && typeof minHeight === 'string' && endsWith(minHeight, '%')) {\n      const ratio = Number(minHeight.replace('%', '')) / 100;\n      minHeight = parentSize.height * ratio;\n    }\n    maxWidth = typeof maxWidth === 'undefined' ? undefined : Number(maxWidth);\n    maxHeight = typeof maxHeight === 'undefined' ? undefined : Number(maxHeight);\n    minWidth = typeof minWidth === 'undefined' ? undefined : Number(minWidth);\n    minHeight = typeof minHeight === 'undefined' ? undefined : Number(minHeight);\n\n    const ratio = typeof lockAspectRatio === 'number' ? lockAspectRatio : original.width / original.height;\n    let newWidth = original.width;\n    let newHeight = original.height;\n    if (/right/i.test(direction)) {\n      newWidth = original.width + (clientX - original.x);\n      if (lockAspectRatio) newHeight = (newWidth - lockAspectRatioExtraWidth) / ratio + lockAspectRatioExtraHeight;\n    }\n    if (/left/i.test(direction)) {\n      newWidth = original.width - (clientX - original.x);\n      if (lockAspectRatio) newHeight = (newWidth - lockAspectRatioExtraWidth) / ratio + lockAspectRatioExtraHeight;\n    }\n    if (/bottom/i.test(direction)) {\n      newHeight = original.height + (clientY - original.y);\n      if (lockAspectRatio) newWidth = (newHeight - lockAspectRatioExtraHeight) * ratio + lockAspectRatioExtraWidth;\n    }\n    if (/top/i.test(direction)) {\n      newHeight = original.height - (clientY - original.y);\n      if (lockAspectRatio) newWidth = (newHeight - lockAspectRatioExtraHeight) * ratio + lockAspectRatioExtraWidth;\n    }\n\n    if (this.props.bounds === 'parent') {\n      const parent = this.parentNode;\n      if (parent instanceof HTMLElement) {\n        const parentRect = parent.getBoundingClientRect();\n        const parentLeft = parentRect.left;\n        const parentTop = parentRect.top;\n        const { left, top } = this.resizable.getBoundingClientRect();\n        const boundWidth = parent.offsetWidth + (parentLeft - left);\n        const boundHeight = parent.offsetHeight + (parentTop - top);\n        maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n        maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n      }\n    } else if (this.props.bounds === 'window') {\n      if (typeof window !== 'undefined') {\n        const { left, top } = this.resizable.getBoundingClientRect();\n        const boundWidth = window.innerWidth - left;\n        const boundHeight = window.innerHeight - top;\n        maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n        maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n      }\n    } else if (this.props.bounds instanceof HTMLElement) {\n      const targetRect = this.props.bounds.getBoundingClientRect();\n      const targetLeft = targetRect.left;\n      const targetTop = targetRect.top;\n      const { left, top } = this.resizable.getBoundingClientRect();\n      if (!(this.props.bounds instanceof HTMLElement)) return;\n      const boundWidth = this.props.bounds.offsetWidth + (targetLeft - left);\n      const boundHeight = this.props.bounds.offsetHeight + (targetTop - top);\n      maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n      maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n    }\n\n    const computedMinWidth = typeof minWidth === 'undefined' ? 10 : minWidth;\n    const computedMaxWidth = typeof maxWidth === 'undefined' || maxWidth < 0 ? newWidth : maxWidth;\n    const computedMinHeight = typeof minHeight === 'undefined' ? 10 : minHeight;\n    const computedMaxHeight = typeof maxHeight === 'undefined' || maxHeight < 0 ? newHeight : maxHeight;\n\n    if (lockAspectRatio) {\n      const extraMinWidth = (computedMinHeight - lockAspectRatioExtraHeight) * ratio + lockAspectRatioExtraWidth;\n      const extraMaxWidth = (computedMaxHeight - lockAspectRatioExtraHeight) * ratio + lockAspectRatioExtraWidth;\n      const extraMinHeight = (computedMinWidth - lockAspectRatioExtraWidth) / ratio + lockAspectRatioExtraHeight;\n      const extraMaxHeight = (computedMaxWidth - lockAspectRatioExtraWidth) / ratio + lockAspectRatioExtraHeight;\n      const lockedMinWidth = Math.max(computedMinWidth, extraMinWidth);\n      const lockedMaxWidth = Math.min(computedMaxWidth, extraMaxWidth);\n      const lockedMinHeight = Math.max(computedMinHeight, extraMinHeight);\n      const lockedMaxHeight = Math.min(computedMaxHeight, extraMaxHeight);\n      newWidth = clamp(newWidth, lockedMinWidth, lockedMaxWidth);\n      newHeight = clamp(newHeight, lockedMinHeight, lockedMaxHeight);\n    } else {\n      newWidth = clamp(newWidth, computedMinWidth, computedMaxWidth);\n      newHeight = clamp(newHeight, computedMinHeight, computedMaxHeight);\n    }\n    if (this.props.grid) {\n      newWidth = snap(newWidth, this.props.grid[0]);\n    }\n    if (this.props.grid) {\n      newHeight = snap(newHeight, this.props.grid[1]);\n    }\n\n    const delta = {\n      width: newWidth - original.width,\n      height: newHeight - original.height,\n    };\n\n    if (width && typeof width === 'string' && endsWith(width, '%')) {\n      const percent = newWidth / parentSize.width * 100;\n      newWidth = `${percent}%`;\n    }\n\n    if (height && typeof height === 'string' && endsWith(height, '%')) {\n      const percent = newHeight / parentSize.height * 100;\n      newHeight = `${percent}%`;\n    }\n\n    this.setState({\n      width: this.calculateNewSize(newWidth, 'width'),\n      height: this.calculateNewSize(newHeight, 'height'),\n    });\n\n    if (this.props.onResize) {\n      this.props.onResize(event, direction, this.resizable, delta);\n    }\n  }\n\n  onMouseUp(event: MouseEvent | TouchEvent) {\n    const { isResizing, direction, original } = this.state;\n    if (!isResizing) return;\n    const delta = {\n      width: this.size.width - original.width,\n      height: this.size.height - original.height,\n    };\n    if (this.props.onResizeStop) {\n      this.props.onResizeStop(event, direction, this.resizable, delta);\n    }\n    if (this.props.size) {\n      this.setState(this.props.size);\n    }\n    this.setState({ isResizing: false, resizeCursor: 'auto' });\n  }\n\n  get size(): NumberSize {\n    let width = 0;\n    let height = 0;\n    if (typeof window !== 'undefined') {\n      width = this.resizable.offsetWidth;\n      height = this.resizable.offsetHeight;\n    }\n    return { width, height };\n  }\n\n  get sizeStyle(): { width: string, height: string } {\n    const { size } = this.props;\n    const getSize = (key: 'width' | 'height'): string => {\n      if (typeof this.state[key] === 'undefined' || this.state[key] === 'auto') return 'auto';\n      if (this.propsSize && this.propsSize[key] && endsWith(this.propsSize[key].toString(), '%')) {\n        if (endsWith(this.state[key].toString(), '%')) return this.state[key].toString();\n        const parentSize = this.getParentSize();\n        const value = Number(this.state[key].toString().replace('px', ''));\n        const percent = value / parentSize[key] * 100;\n        return `${percent}%`;\n      }\n      return getStringSize(this.state[key]);\n    };\n    const width = size && size.width && !this.state.isResizing ? getStringSize(size.width) : getSize('width');\n    const height = size && size.height && !this.state.isResizing ? getStringSize(size.height) : getSize('height');\n    return { width, height };\n  }\n\n  updateSize(size: Size) {\n    this.setState({ width: size.width, height: size.height });\n  }\n\n  renderResizer(): React.Node {\n    const {\n      enable, handleStyles, handleClasses, handleWrapperStyle, handleWrapperClass, handleComponent,\n    } = this.props;\n    if (!enable) return null;\n    const resizers = Object.keys(enable).map((dir: Direction): React$Node => {\n      if (enable[dir] !== false) {\n        return (\n          <Resizer\n            key={dir}\n            direction={dir}\n            onResizeStart={this.onResizeStart}\n            replaceStyles={handleStyles && handleStyles[dir]}\n            className={handleClasses && handleClasses[dir]}\n          >\n            {handleComponent && handleComponent[dir] ? React.createElement(handleComponent[dir]) : null}\n          </Resizer>\n        );\n      }\n      return null;\n    });\n\n    // #93 Wrap the resize box in span (will not break 100% width/height)\n    return (\n      <span className={handleWrapperClass} style={handleWrapperStyle}>\n        {resizers}\n      </span>\n    );\n  }\n\n  render(): React.Node {\n    const userSelect = this.state.isResizing ? userSelectNone : userSelectAuto;\n    return (\n      <div\n        ref={(c: React.ElementRef<'div'> | null) => {\n          if (c) {\n            this.resizable = c;\n          }\n        }}\n        style={{\n          position: 'relative',\n          ...userSelect,\n          ...this.props.style,\n          ...this.sizeStyle,\n          maxWidth: this.props.maxWidth,\n          maxHeight: this.props.maxHeight,\n          minWidth: this.props.minWidth,\n          minHeight: this.props.minHeight,\n          boxSizing: 'border-box',\n        }}\n        className={this.props.className}\n        {...this.extendsProps}\n      >\n        {this.state.isResizing && (\n          <div\n            style={{\n              height: '100%',\n              width: '100%',\n              backgroundColor: 'rgba(0,0,0,0)',\n              cursor: `${this.state.resizeCursor || 'auto'}`,\n              opacity: '0',\n              position: 'fixed',\n              zIndex: '9999',\n              top: '0',\n              left: '0',\n              bottom: '0',\n              right: '0',\n            }}\n          />\n        )}\n\n        {this.props.children}\n        {this.renderResizer()}\n      </div>\n    );\n  }\n}\n"],"names":["styles","props","React.createElement","className","base","direction","replaceStyles","e","onResizeStart","children","userSelectNone","userSelectAuto","clamp","n","min","max","Math","snap","size","round","endsWith","str","searchStr","substr","length","getStringSize","toString","definedProps","Resizable","state","propsSize","width","height","updateExtendsProps","bind","onMouseMove","onMouseUp","baseSizeId","window","addEventListener","extendsProps","Object","keys","reduce","acc","key","indexOf","document","getElementById","innerWidth","innerHeight","wrapChanged","wrap","parentNode","style","flexWrap","minWidth","offsetWidth","offsetHeight","setState","parent","HTMLElement","querySelector","element","createElement","id","position","transform","left","flex","classList","add","appendChild","next","removeEventListener","Node","removeChild","newSize","kind","original","event","clientX","clientY","nativeEvent","MouseEvent","which","TouchEvent","touches","resizable","getComputedStyle","target","cursor","isResizing","lockAspectRatio","lockAspectRatioExtraHeight","lockAspectRatioExtraWidth","maxWidth","maxHeight","minHeight","parentSize","getParentSize","ratio","Number","replace","undefined","newWidth","newHeight","test","x","y","bounds","parentRect","getBoundingClientRect","parentLeft","parentTop","top","boundWidth","boundHeight","targetRect","targetLeft","targetTop","computedMinWidth","computedMaxWidth","computedMinHeight","computedMaxHeight","extraMinWidth","extraMaxWidth","extraMinHeight","extraMaxHeight","lockedMinWidth","lockedMaxWidth","lockedMinHeight","lockedMaxHeight","grid","delta","percent","calculateNewSize","onResize","onResizeStop","resizeCursor","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","handleComponent","resizers","map","dir","React","userSelect","c","sizeStyle","renderResizer","defaultSize","getSize","value","defaultProps"],"mappings":"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"}