{"version":3,"file":"LinkedList.js","sources":["../../../src/ol/structs/LinkedList.js"],"sourcesContent":["/**\n * @module ol/structs/LinkedList\n */\n\n\n/**\n * @typedef {Object} Item\n * @property {Item} [prev]\n * @property {Item} [next]\n * @property {?} data\n */\n\n/**\n * @classdesc\n * Creates an empty linked list structure.\n */\nclass LinkedList {\n\n  /**\n   * @param {boolean=} opt_circular The last item is connected to the first one,\n   * and the first item to the last one. Default is true.\n   */\n  constructor(opt_circular) {\n\n    /**\n     * @private\n     * @type {Item|undefined}\n     */\n    this.first_;\n\n    /**\n     * @private\n     * @type {Item|undefined}\n     */\n    this.last_;\n\n    /**\n     * @private\n     * @type {Item|undefined}\n     */\n    this.head_;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.circular_ = opt_circular === undefined ? true : opt_circular;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.length_ = 0;\n\n  }\n\n  /**\n   * Inserts an item into the linked list right after the current one.\n   *\n   * @param {?} data Item data.\n   */\n  insertItem(data) {\n\n    /** @type {Item} */\n    const item = {\n      prev: undefined,\n      next: undefined,\n      data: data\n    };\n\n    const head = this.head_;\n\n    //Initialize the list.\n    if (!head) {\n      this.first_ = item;\n      this.last_ = item;\n      if (this.circular_) {\n        item.next = item;\n        item.prev = item;\n      }\n    } else {\n      //Link the new item to the adjacent ones.\n      const next = head.next;\n      item.prev = head;\n      item.next = next;\n      head.next = item;\n      if (next) {\n        next.prev = item;\n      }\n\n      if (head === this.last_) {\n        this.last_ = item;\n      }\n    }\n    this.head_ = item;\n    this.length_++;\n  }\n\n  /**\n   * Removes the current item from the list. Sets the cursor to the next item,\n   * if possible.\n   */\n  removeItem() {\n    const head = this.head_;\n    if (head) {\n      const next = head.next;\n      const prev = head.prev;\n      if (next) {\n        next.prev = prev;\n      }\n      if (prev) {\n        prev.next = next;\n      }\n      this.head_ = next || prev;\n\n      if (this.first_ === this.last_) {\n        this.head_ = undefined;\n        this.first_ = undefined;\n        this.last_ = undefined;\n      } else if (this.first_ === head) {\n        this.first_ = this.head_;\n      } else if (this.last_ === head) {\n        this.last_ = prev ? this.head_.prev : this.head_;\n      }\n      this.length_--;\n    }\n  }\n\n  /**\n   * Sets the cursor to the first item, and returns the associated data.\n   *\n   * @return {?} Item data.\n   */\n  firstItem() {\n    this.head_ = this.first_;\n    if (this.head_) {\n      return this.head_.data;\n    }\n    return undefined;\n  }\n\n  /**\n  * Sets the cursor to the last item, and returns the associated data.\n  *\n  * @return {?} Item data.\n  */\n  lastItem() {\n    this.head_ = this.last_;\n    if (this.head_) {\n      return this.head_.data;\n    }\n    return undefined;\n  }\n\n  /**\n   * Sets the cursor to the next item, and returns the associated data.\n   *\n   * @return {?} Item data.\n   */\n  nextItem() {\n    if (this.head_ && this.head_.next) {\n      this.head_ = this.head_.next;\n      return this.head_.data;\n    }\n    return undefined;\n  }\n\n  /**\n   * Returns the next item's data without moving the cursor.\n   *\n   * @return {?} Item data.\n   */\n  getNextItem() {\n    if (this.head_ && this.head_.next) {\n      return this.head_.next.data;\n    }\n    return undefined;\n  }\n\n  /**\n   * Sets the cursor to the previous item, and returns the associated data.\n   *\n   * @return {?} Item data.\n   */\n  prevItem() {\n    if (this.head_ && this.head_.prev) {\n      this.head_ = this.head_.prev;\n      return this.head_.data;\n    }\n    return undefined;\n  }\n\n  /**\n   * Returns the previous item's data without moving the cursor.\n   *\n   * @return {?} Item data.\n   */\n  getPrevItem() {\n    if (this.head_ && this.head_.prev) {\n      return this.head_.prev.data;\n    }\n    return undefined;\n  }\n\n  /**\n   * Returns the current item's data.\n   *\n   * @return {?} Item data.\n   */\n  getCurrItem() {\n    if (this.head_) {\n      return this.head_.data;\n    }\n    return undefined;\n  }\n\n  /**\n   * Sets the first item of the list. This only works for circular lists, and sets\n   * the last item accordingly.\n   */\n  setFirstItem() {\n    if (this.circular_ && this.head_) {\n      this.first_ = this.head_;\n      this.last_ = this.head_.prev;\n    }\n  }\n\n  /**\n   * Concatenates two lists.\n   * @param {LinkedList} list List to merge into the current list.\n   */\n  concat(list) {\n    if (list.head_) {\n      if (this.head_) {\n        const end = this.head_.next;\n        this.head_.next = list.first_;\n        list.first_.prev = this.head_;\n        end.prev = list.last_;\n        list.last_.next = end;\n        this.length_ += list.length_;\n      } else {\n        this.head_ = list.head_;\n        this.first_ = list.first_;\n        this.last_ = list.last_;\n        this.length_ = list.length_;\n      }\n      list.head_ = undefined;\n      list.first_ = undefined;\n      list.last_ = undefined;\n      list.length_ = 0;\n    }\n  }\n\n  /**\n   * Returns the current length of the list.\n   *\n   * @return {number} Length.\n   */\n  getLength() {\n    return this.length_;\n  }\n\n}\n\n\nexport default LinkedList;\n"],"names":["const"],"mappings":"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"}