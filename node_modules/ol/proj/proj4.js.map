{"version":3,"file":"proj4.js","sources":["../../../src/ol/proj/proj4.js"],"sourcesContent":["/**\n * @module ol/proj/proj4\n */\nimport {addCoordinateTransforms, addProjection, addEquivalentProjections, get} from '../proj.js';\nimport {get as getTransform} from './transforms.js';\nimport Projection from './Projection.js';\n\n/**\n * Make projections defined in proj4 (with `proj4.defs()`) available in\n * OpenLayers.\n *\n * This function should be called whenever changes are made to the proj4\n * registry, e.g. after calling `proj4.defs()`. Existing transforms will not be\n * modified by this function.\n *\n * @param {?} proj4 Proj4.\n * @api\n */\nexport function register(proj4) {\n  const projCodes = Object.keys(proj4.defs);\n  const len = projCodes.length;\n  let i, j;\n  for (i = 0; i < len; ++i) {\n    const code = projCodes[i];\n    if (!get(code)) {\n      const def = proj4.defs(code);\n      addProjection(new Projection({\n        code: code,\n        axisOrientation: def.axis,\n        metersPerUnit: def.to_meter,\n        units: def.units\n      }));\n    }\n  }\n  for (i = 0; i < len; ++i) {\n    const code1 = projCodes[i];\n    const proj1 = get(code1);\n    for (j = 0; j < len; ++j) {\n      const code2 = projCodes[j];\n      const proj2 = get(code2);\n      if (!getTransform(code1, code2)) {\n        if (proj4.defs[code1] === proj4.defs[code2]) {\n          addEquivalentProjections([proj1, proj2]);\n        } else {\n          const transform = proj4(code1, code2);\n          addCoordinateTransforms(proj1, proj2, transform.forward, transform.inverse);\n        }\n      }\n    }\n  }\n}\n"],"names":["const","let"],"mappings":"AAAA;;;AAGA,QAAQ,uBAAuB,EAAE,aAAa,EAAE,wBAAwB,EAAE,GAAG,OAAO,YAAY,CAAC;AACjG,QAAQ,GAAG,IAAI,YAAY,OAAO,iBAAiB,CAAC;AACpD,OAAO,UAAU,MAAM,iBAAiB,CAAC;;;;;;;;;;;;;AAazC,OAAO,SAAS,QAAQ,CAAC,KAAK,EAAE;EAC9BA,GAAK,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;EAC1CA,GAAK,CAAC,GAAG,GAAG,SAAS,CAAC,MAAM,CAAC;EAC7BC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;EACT,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;IACxBD,GAAK,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;IAC1B,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;MACdA,GAAK,CAAC,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;MAC7B,aAAa,CAAC,IAAI,UAAU,CAAC;QAC3B,IAAI,EAAE,IAAI;QACV,eAAe,EAAE,GAAG,CAAC,IAAI;QACzB,aAAa,EAAE,GAAG,CAAC,QAAQ;QAC3B,KAAK,EAAE,GAAG,CAAC,KAAK;OACjB,CAAC,CAAC,CAAC;KACL;GACF;EACD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;IACxBA,GAAK,CAAC,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;IAC3BA,GAAK,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;IACzB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;MACxBA,GAAK,CAAC,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;MAC3BA,GAAK,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;MACzB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE;QAC/B,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;UAC3C,wBAAwB,CAAC,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;SAC1C,MAAM;UACLA,GAAK,CAAC,SAAS,GAAG,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;UACtC,uBAAuB,CAAC,KAAK,EAAE,KAAK,EAAE,SAAS,CAAC,OAAO,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC;SAC7E;OACF;KACF;GACF;CACF;"}