{"version":3,"file":"ZoomSlider.js","sources":["../../../src/ol/control/ZoomSlider.js"],"sourcesContent":["/**\n * @module ol/control/ZoomSlider\n */\nimport ViewHint from '../ViewHint.js';\nimport Control from './Control.js';\nimport {CLASS_CONTROL, CLASS_UNSELECTABLE} from '../css.js';\nimport {easeOut} from '../easing.js';\nimport {listen, unlistenByKey} from '../events.js';\nimport {stopPropagation} from '../events/Event.js';\nimport EventType from '../events/EventType.js';\nimport {clamp} from '../math.js';\nimport PointerEventType from '../pointer/EventType.js';\nimport PointerEventHandler from '../pointer/PointerEventHandler.js';\n\n\n/**\n * The enum for available directions.\n *\n * @enum {number}\n */\nconst Direction = {\n  VERTICAL: 0,\n  HORIZONTAL: 1\n};\n\n\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-zoomslider'] CSS class name.\n * @property {number} [duration=200] Animation duration in milliseconds.\n * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when the control\n * should be re-rendered. This is called in a `requestAnimationFrame` callback.\n */\n\n\n/**\n * @classdesc\n * A slider type of control for zooming.\n *\n * Example:\n *\n *     map.addControl(new ZoomSlider());\n *\n * @api\n */\nclass ZoomSlider extends Control {\n\n  /**\n   * @param {Options=} opt_options Zoom slider options.\n   */\n  constructor(opt_options) {\n\n    const options = opt_options ? opt_options : {};\n\n    super({\n      element: document.createElement('div'),\n      render: options.render || render\n    });\n\n    /**\n      * @type {!Array.<import(\"../events.js\").EventsKey>}\n      * @private\n      */\n    this.dragListenerKeys_ = [];\n\n    /**\n     * Will hold the current resolution of the view.\n     *\n     * @type {number|undefined}\n     * @private\n     */\n    this.currentResolution_ = undefined;\n\n    /**\n     * The direction of the slider. Will be determined from actual display of the\n     * container and defaults to Direction.VERTICAL.\n     *\n     * @type {Direction}\n     * @private\n     */\n    this.direction_ = Direction.VERTICAL;\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.dragging_;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.heightLimit_ = 0;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.widthLimit_ = 0;\n\n    /**\n     * @type {number|undefined}\n     * @private\n     */\n    this.previousX_;\n\n    /**\n     * @type {number|undefined}\n     * @private\n     */\n    this.previousY_;\n\n    /**\n     * The calculated thumb size (border box plus margins).  Set when initSlider_\n     * is called.\n     * @type {import(\"../size.js\").Size}\n     * @private\n     */\n    this.thumbSize_ = null;\n\n    /**\n     * Whether the slider is initialized.\n     * @type {boolean}\n     * @private\n     */\n    this.sliderInitialized_ = false;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 200;\n\n    const className = options.className !== undefined ? options.className : 'ol-zoomslider';\n    const thumbElement = document.createElement('button');\n    thumbElement.setAttribute('type', 'button');\n    thumbElement.className = className + '-thumb ' + CLASS_UNSELECTABLE;\n    const containerElement = this.element;\n    containerElement.className = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n    containerElement.appendChild(thumbElement);\n    /**\n     * @type {PointerEventHandler}\n     * @private\n     */\n    this.dragger_ = new PointerEventHandler(containerElement);\n\n    listen(this.dragger_, PointerEventType.POINTERDOWN,\n      this.handleDraggerStart_, this);\n    listen(this.dragger_, PointerEventType.POINTERMOVE,\n      this.handleDraggerDrag_, this);\n    listen(this.dragger_, PointerEventType.POINTERUP,\n      this.handleDraggerEnd_, this);\n\n    listen(containerElement, EventType.CLICK, this.handleContainerClick_, this);\n    listen(thumbElement, EventType.CLICK, stopPropagation);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  disposeInternal() {\n    this.dragger_.dispose();\n    super.disposeInternal();\n  }\n\n  /**\n   * @inheritDoc\n   */\n  setMap(map) {\n    super.setMap(map);\n    if (map) {\n      map.render();\n    }\n  }\n\n  /**\n   * Initializes the slider element. This will determine and set this controls\n   * direction_ and also constrain the dragging of the thumb to always be within\n   * the bounds of the container.\n   *\n   * @private\n   */\n  initSlider_() {\n    const container = this.element;\n    const containerSize = {\n      width: container.offsetWidth, height: container.offsetHeight\n    };\n\n    const thumb = /** @type {HTMLElement} */ (container.firstElementChild);\n    const computedStyle = getComputedStyle(thumb);\n    const thumbWidth = thumb.offsetWidth +\n        parseFloat(computedStyle['marginRight']) +\n        parseFloat(computedStyle['marginLeft']);\n    const thumbHeight = thumb.offsetHeight +\n        parseFloat(computedStyle['marginTop']) +\n        parseFloat(computedStyle['marginBottom']);\n    this.thumbSize_ = [thumbWidth, thumbHeight];\n\n    if (containerSize.width > containerSize.height) {\n      this.direction_ = Direction.HORIZONTAL;\n      this.widthLimit_ = containerSize.width - thumbWidth;\n    } else {\n      this.direction_ = Direction.VERTICAL;\n      this.heightLimit_ = containerSize.height - thumbHeight;\n    }\n    this.sliderInitialized_ = true;\n  }\n\n  /**\n   * @param {MouseEvent} event The browser event to handle.\n   * @private\n   */\n  handleContainerClick_(event) {\n    const view = this.getMap().getView();\n\n    const relativePosition = this.getRelativePosition_(\n      event.offsetX - this.thumbSize_[0] / 2,\n      event.offsetY - this.thumbSize_[1] / 2);\n\n    const resolution = this.getResolutionForPosition_(relativePosition);\n\n    view.animate({\n      resolution: view.constrainResolution(resolution),\n      duration: this.duration_,\n      easing: easeOut\n    });\n  }\n\n  /**\n   * Handle dragger start events.\n   * @param {import(\"../pointer/PointerEvent.js\").default} event The drag event.\n   * @private\n   */\n  handleDraggerStart_(event) {\n    if (!this.dragging_ && event.originalEvent.target === this.element.firstElementChild) {\n      this.getMap().getView().setHint(ViewHint.INTERACTING, 1);\n      this.previousX_ = event.clientX;\n      this.previousY_ = event.clientY;\n      this.dragging_ = true;\n\n      if (this.dragListenerKeys_.length === 0) {\n        const drag = this.handleDraggerDrag_;\n        const end = this.handleDraggerEnd_;\n        this.dragListenerKeys_.push(\n          listen(document, EventType.MOUSEMOVE, drag, this),\n          listen(document, PointerEventType.POINTERMOVE, drag, this),\n          listen(document, EventType.MOUSEUP, end, this),\n          listen(document, PointerEventType.POINTERUP, end, this)\n        );\n      }\n    }\n  }\n\n  /**\n   * Handle dragger drag events.\n   *\n   * @param {import(\"../pointer/PointerEvent.js\").default} event The drag event.\n   * @private\n   */\n  handleDraggerDrag_(event) {\n    if (this.dragging_) {\n      const element = /** @type {HTMLElement} */ (this.element.firstElementChild);\n      const deltaX = event.clientX - this.previousX_ + parseFloat(element.style.left);\n      const deltaY = event.clientY - this.previousY_ + parseFloat(element.style.top);\n      const relativePosition = this.getRelativePosition_(deltaX, deltaY);\n      this.currentResolution_ = this.getResolutionForPosition_(relativePosition);\n      this.getMap().getView().setResolution(this.currentResolution_);\n      this.setThumbPosition_(this.currentResolution_);\n      this.previousX_ = event.clientX;\n      this.previousY_ = event.clientY;\n    }\n  }\n\n  /**\n   * Handle dragger end events.\n   * @param {import(\"../pointer/PointerEvent.js\").default} event The drag event.\n   * @private\n   */\n  handleDraggerEnd_(event) {\n    if (this.dragging_) {\n      const view = this.getMap().getView();\n      view.setHint(ViewHint.INTERACTING, -1);\n\n      view.animate({\n        resolution: view.constrainResolution(this.currentResolution_),\n        duration: this.duration_,\n        easing: easeOut\n      });\n\n      this.dragging_ = false;\n      this.previousX_ = undefined;\n      this.previousY_ = undefined;\n      this.dragListenerKeys_.forEach(unlistenByKey);\n      this.dragListenerKeys_.length = 0;\n    }\n  }\n\n  /**\n   * Positions the thumb inside its container according to the given resolution.\n   *\n   * @param {number} res The res.\n   * @private\n   */\n  setThumbPosition_(res) {\n    const position = this.getPositionForResolution_(res);\n    const thumb = /** @type {HTMLElement} */ (this.element.firstElementChild);\n\n    if (this.direction_ == Direction.HORIZONTAL) {\n      thumb.style.left = this.widthLimit_ * position + 'px';\n    } else {\n      thumb.style.top = this.heightLimit_ * position + 'px';\n    }\n  }\n\n  /**\n   * Calculates the relative position of the thumb given x and y offsets.  The\n   * relative position scales from 0 to 1.  The x and y offsets are assumed to be\n   * in pixel units within the dragger limits.\n   *\n   * @param {number} x Pixel position relative to the left of the slider.\n   * @param {number} y Pixel position relative to the top of the slider.\n   * @return {number} The relative position of the thumb.\n   * @private\n   */\n  getRelativePosition_(x, y) {\n    let amount;\n    if (this.direction_ === Direction.HORIZONTAL) {\n      amount = x / this.widthLimit_;\n    } else {\n      amount = y / this.heightLimit_;\n    }\n    return clamp(amount, 0, 1);\n  }\n\n  /**\n   * Calculates the corresponding resolution of the thumb given its relative\n   * position (where 0 is the minimum and 1 is the maximum).\n   *\n   * @param {number} position The relative position of the thumb.\n   * @return {number} The corresponding resolution.\n   * @private\n   */\n  getResolutionForPosition_(position) {\n    const fn = this.getMap().getView().getResolutionForValueFunction();\n    return fn(1 - position);\n  }\n\n  /**\n   * Determines the relative position of the slider for the given resolution.  A\n   * relative position of 0 corresponds to the minimum view resolution.  A\n   * relative position of 1 corresponds to the maximum view resolution.\n   *\n   * @param {number} res The resolution.\n   * @return {number} The relative position value (between 0 and 1).\n   * @private\n   */\n  getPositionForResolution_(res) {\n    const fn = this.getMap().getView().getValueForResolutionFunction();\n    return 1 - fn(res);\n  }\n}\n\n\n/**\n * Update the zoomslider element.\n * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n * @this {ZoomSlider}\n * @api\n */\nexport function render(mapEvent) {\n  if (!mapEvent.frameState) {\n    return;\n  }\n  if (!this.sliderInitialized_) {\n    this.initSlider_();\n  }\n  const res = mapEvent.frameState.viewState.resolution;\n  if (res !== this.currentResolution_) {\n    this.currentResolution_ = res;\n    this.setThumbPosition_(res);\n  }\n}\n\n\nexport default ZoomSlider;\n"],"names":["const","super","let"],"mappings":"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"}