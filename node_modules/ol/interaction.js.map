{"version":3,"file":"interaction.js","sources":["../../src/ol/interaction.js"],"sourcesContent":["/**\n * @module ol/interaction\n */\nimport Collection from './Collection.js';\nimport Kinetic from './Kinetic.js';\nimport DoubleClickZoom from './interaction/DoubleClickZoom.js';\nimport DragPan from './interaction/DragPan.js';\nimport DragRotate from './interaction/DragRotate.js';\nimport DragZoom from './interaction/DragZoom.js';\nimport KeyboardPan from './interaction/KeyboardPan.js';\nimport KeyboardZoom from './interaction/KeyboardZoom.js';\nimport MouseWheelZoom from './interaction/MouseWheelZoom.js';\nimport PinchRotate from './interaction/PinchRotate.js';\nimport PinchZoom from './interaction/PinchZoom.js';\nimport {focus} from './events/condition.js';\n\nexport {default as DoubleClickZoom} from './interaction/DoubleClickZoom.js';\nexport {default as DragAndDrop} from './interaction/DragAndDrop.js';\nexport {default as DragBox} from './interaction/DragBox.js';\nexport {default as DragPan} from './interaction/DragPan.js';\nexport {default as DragRotate} from './interaction/DragRotate.js';\nexport {default as DragRotateAndZoom} from './interaction/DragRotateAndZoom.js';\nexport {default as DragZoom} from './interaction/DragZoom.js';\nexport {default as Draw} from './interaction/Draw.js';\nexport {default as Extent} from './interaction/Extent.js';\nexport {default as Interaction} from './interaction/Interaction.js';\nexport {default as KeyboardPan} from './interaction/KeyboardPan.js';\nexport {default as KeyboardZoom} from './interaction/KeyboardZoom.js';\nexport {default as Modify} from './interaction/Modify.js';\nexport {default as MouseWheelZoom} from './interaction/MouseWheelZoom.js';\nexport {default as PinchRotate} from './interaction/PinchRotate.js';\nexport {default as PinchZoom} from './interaction/PinchZoom.js';\nexport {default as Pointer} from './interaction/Pointer.js';\nexport {default as Select} from './interaction/Select.js';\nexport {default as Snap} from './interaction/Snap.js';\nexport {default as Translate} from './interaction/Translate.js';\n\n\n/**\n * @typedef {Object} DefaultsOptions\n * @property {boolean} [altShiftDragRotate=true] Whether Alt-Shift-drag rotate is\n * desired.\n * @property {boolean} [onFocusOnly=false] Interact only when the map has the\n * focus. This affects the `MouseWheelZoom` and `DragPan` interactions and is\n * useful when page scroll is desired for maps that do not have the browser's\n * focus.\n * @property {boolean} [constrainResolution=false] Zoom to the closest integer\n * zoom level after the wheel/trackpad or pinch gesture ends.\n * @property {boolean} [doubleClickZoom=true] Whether double click zoom is\n * desired.\n * @property {boolean} [keyboard=true] Whether keyboard interaction is desired.\n * @property {boolean} [mouseWheelZoom=true] Whether mousewheel zoom is desired.\n * @property {boolean} [shiftDragZoom=true] Whether Shift-drag zoom is desired.\n * @property {boolean} [dragPan=true] Whether drag pan is desired.\n * @property {boolean} [pinchRotate=true] Whether pinch rotate is desired.\n * @property {boolean} [pinchZoom=true] Whether pinch zoom is desired.\n * @property {number} [zoomDelta] Zoom level delta when using keyboard or\n * mousewheel zoom.\n * @property {number} [zoomDuration] Duration of the zoom animation in\n * milliseconds.\n */\n\n\n/**\n * Set of interactions included in maps by default. Specific interactions can be\n * excluded by setting the appropriate option to false in the constructor\n * options, but the order of the interactions is fixed.  If you want to specify\n * a different order for interactions, you will need to create your own\n * {@link module:ol/interaction/Interaction} instances and insert\n * them into a {@link module:ol/Collection} in the order you want\n * before creating your {@link module:ol/Map~Map} instance. The default set of\n * interactions, in sequence, is:\n * * {@link module:ol/interaction/DragRotate~DragRotate}\n * * {@link module:ol/interaction/DoubleClickZoom~DoubleClickZoom}\n * * {@link module:ol/interaction/DragPan~DragPan}\n * * {@link module:ol/interaction/PinchRotate~PinchRotate}\n * * {@link module:ol/interaction/PinchZoom~PinchZoom}\n * * {@link module:ol/interaction/KeyboardPan~KeyboardPan}\n * * {@link module:ol/interaction/KeyboardZoom~KeyboardZoom}\n * * {@link module:ol/interaction/MouseWheelZoom~MouseWheelZoom}\n * * {@link module:ol/interaction/DragZoom~DragZoom}\n *\n * @param {DefaultsOptions=} opt_options Defaults options.\n * @return {import(\"./Collection.js\").default<import(\"./interaction/Interaction.js\").default>}\n * A collection of interactions to be used with the {@link module:ol/Map~Map}\n * constructor's `interactions` option.\n * @api\n */\nexport function defaults(opt_options) {\n\n  const options = opt_options ? opt_options : {};\n\n  const interactions = new Collection();\n\n  const kinetic = new Kinetic(-0.005, 0.05, 100);\n\n  const altShiftDragRotate = options.altShiftDragRotate !== undefined ?\n    options.altShiftDragRotate : true;\n  if (altShiftDragRotate) {\n    interactions.push(new DragRotate());\n  }\n\n  const doubleClickZoom = options.doubleClickZoom !== undefined ?\n    options.doubleClickZoom : true;\n  if (doubleClickZoom) {\n    interactions.push(new DoubleClickZoom({\n      delta: options.zoomDelta,\n      duration: options.zoomDuration\n    }));\n  }\n\n  const dragPan = options.dragPan !== undefined ? options.dragPan : true;\n  if (dragPan) {\n    interactions.push(new DragPan({\n      condition: options.onFocusOnly ? focus : undefined,\n      kinetic: kinetic\n    }));\n  }\n\n  const pinchRotate = options.pinchRotate !== undefined ? options.pinchRotate :\n    true;\n  if (pinchRotate) {\n    interactions.push(new PinchRotate());\n  }\n\n  const pinchZoom = options.pinchZoom !== undefined ? options.pinchZoom : true;\n  if (pinchZoom) {\n    interactions.push(new PinchZoom({\n      constrainResolution: options.constrainResolution,\n      duration: options.zoomDuration\n    }));\n  }\n\n  const keyboard = options.keyboard !== undefined ? options.keyboard : true;\n  if (keyboard) {\n    interactions.push(new KeyboardPan());\n    interactions.push(new KeyboardZoom({\n      delta: options.zoomDelta,\n      duration: options.zoomDuration\n    }));\n  }\n\n  const mouseWheelZoom = options.mouseWheelZoom !== undefined ?\n    options.mouseWheelZoom : true;\n  if (mouseWheelZoom) {\n    interactions.push(new MouseWheelZoom({\n      condition: options.onFocusOnly ? focus : undefined,\n      constrainResolution: options.constrainResolution,\n      duration: options.zoomDuration\n    }));\n  }\n\n  const shiftDragZoom = options.shiftDragZoom !== undefined ?\n    options.shiftDragZoom : true;\n  if (shiftDragZoom) {\n    interactions.push(new DragZoom({\n      duration: options.zoomDuration\n    }));\n  }\n\n  return interactions;\n\n}\n"],"names":["const"],"mappings":"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"}