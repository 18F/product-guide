"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _styledBase = _interopRequireDefault(require("@emotion/styled-base"));

var _react = _interopRequireDefault(require("react"));

var _core = require("@emotion/core");

var _reactPolyglot = require("react-polyglot");

var _netlifyCmsUiDefault = require("netlify-cms-ui-default");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const FilterButton = ( /*#__PURE__*/0, _styledBase.default)(_netlifyCmsUiDefault.StyledDropdownButton, {
  target: "eul22uj0",
  label: "FilterButton"
})(_netlifyCmsUiDefault.buttons.button, ";", _netlifyCmsUiDefault.buttons.medium, ";", _netlifyCmsUiDefault.buttons.grayText, ";font-size:14px;&:after{top:11px;}" + (process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0NvbGxlY3Rpb24vRmlsdGVyQ29udHJvbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFZaUQiLCJmaWxlIjoiLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvQ29sbGVjdGlvbi9GaWx0ZXJDb250cm9sLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNzcyB9IGZyb20gJ0BlbW90aW9uL2NvcmUnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IHsgdHJhbnNsYXRlIH0gZnJvbSAncmVhY3QtcG9seWdsb3QnO1xuaW1wb3J0IHtcbiAgYnV0dG9ucyxcbiAgRHJvcGRvd24sXG4gIERyb3Bkb3duQ2hlY2tlZEl0ZW0sXG4gIFN0eWxlZERyb3Bkb3duQnV0dG9uLFxuICBjb2xvcnMsXG59IGZyb20gJ25ldGxpZnktY21zLXVpLWRlZmF1bHQnO1xuXG5jb25zdCBGaWx0ZXJCdXR0b24gPSBzdHlsZWQoU3R5bGVkRHJvcGRvd25CdXR0b24pYFxuICAke2J1dHRvbnMuYnV0dG9ufTtcbiAgJHtidXR0b25zLm1lZGl1bX07XG4gICR7YnV0dG9ucy5ncmF5VGV4dH07XG4gIGZvbnQtc2l6ZTogMTRweDtcblxuICAmOmFmdGVyIHtcbiAgICB0b3A6IDExcHg7XG4gIH1cbmA7XG5cbmNvbnN0IEZpbHRlckNvbnRyb2wgPSAoeyB2aWV3RmlsdGVycywgdCwgb25GaWx0ZXJDbGljaywgZmlsdGVyIH0pID0+IHtcbiAgY29uc3QgaGFzQWN0aXZlRmlsdGVyID0gZmlsdGVyXG4gICAgPy52YWx1ZVNlcSgpXG4gICAgLnRvSlMoKVxuICAgIC5zb21lKGYgPT4gZi5hY3RpdmUgPT09IHRydWUpO1xuXG4gIHJldHVybiAoXG4gICAgPERyb3Bkb3duXG4gICAgICByZW5kZXJCdXR0b249eygpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8RmlsdGVyQnV0dG9uXG4gICAgICAgICAgICBjc3M9e2Nzc2BcbiAgICAgICAgICAgICAgY29sb3I6ICR7aGFzQWN0aXZlRmlsdGVyID8gY29sb3JzLmFjdGl2ZSA6IHVuZGVmaW5lZH07XG4gICAgICAgICAgICBgfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0KCdjb2xsZWN0aW9uLmNvbGxlY3Rpb25Ub3AuZmlsdGVyQnknKX1cbiAgICAgICAgICA8L0ZpbHRlckJ1dHRvbj5cbiAgICAgICAgKTtcbiAgICAgIH19XG4gICAgICBjbG9zZU9uU2VsZWN0aW9uPXtmYWxzZX1cbiAgICAgIGRyb3Bkb3duVG9wT3ZlcmxhcD1cIjMwcHhcIlxuICAgICAgZHJvcGRvd25Qb3NpdGlvbj1cImxlZnRcIlxuICAgID5cbiAgICAgIHt2aWV3RmlsdGVycy5tYXAodmlld0ZpbHRlciA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPERyb3Bkb3duQ2hlY2tlZEl0ZW1cbiAgICAgICAgICAgIGtleT17dmlld0ZpbHRlci5pZH1cbiAgICAgICAgICAgIGxhYmVsPXt2aWV3RmlsdGVyLmxhYmVsfVxuICAgICAgICAgICAgaWQ9e3ZpZXdGaWx0ZXIuaWR9XG4gICAgICAgICAgICBjaGVja2VkPXtmaWx0ZXIuZ2V0SW4oW3ZpZXdGaWx0ZXIuaWQsICdhY3RpdmUnXSwgZmFsc2UpfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gb25GaWx0ZXJDbGljayh2aWV3RmlsdGVyKX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC9Ecm9wZG93bj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHRyYW5zbGF0ZSgpKEZpbHRlckNvbnRyb2wpO1xuIl19 */"));

const FilterControl = ({
  viewFilters,
  t,
  onFilterClick,
  filter
}) => {
  const hasActiveFilter = filter === null || filter === void 0 ? void 0 : filter.valueSeq().toJS().some(f => f.active === true);
  return (0, _core.jsx)(_netlifyCmsUiDefault.Dropdown, {
    renderButton: () => {
      return (0, _core.jsx)(FilterButton, {
        css: /*#__PURE__*/(0, _core.css)("color:", hasActiveFilter ? _netlifyCmsUiDefault.colors.active : undefined, ";;label:FilterControl;" + (process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0NvbGxlY3Rpb24vRmlsdGVyQ29udHJvbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrQ29CIiwiZmlsZSI6Ii4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0NvbGxlY3Rpb24vRmlsdGVyQ29udHJvbC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjc3MgfSBmcm9tICdAZW1vdGlvbi9jb3JlJztcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCB7IHRyYW5zbGF0ZSB9IGZyb20gJ3JlYWN0LXBvbHlnbG90JztcbmltcG9ydCB7XG4gIGJ1dHRvbnMsXG4gIERyb3Bkb3duLFxuICBEcm9wZG93bkNoZWNrZWRJdGVtLFxuICBTdHlsZWREcm9wZG93bkJ1dHRvbixcbiAgY29sb3JzLFxufSBmcm9tICduZXRsaWZ5LWNtcy11aS1kZWZhdWx0JztcblxuY29uc3QgRmlsdGVyQnV0dG9uID0gc3R5bGVkKFN0eWxlZERyb3Bkb3duQnV0dG9uKWBcbiAgJHtidXR0b25zLmJ1dHRvbn07XG4gICR7YnV0dG9ucy5tZWRpdW19O1xuICAke2J1dHRvbnMuZ3JheVRleHR9O1xuICBmb250LXNpemU6IDE0cHg7XG5cbiAgJjphZnRlciB7XG4gICAgdG9wOiAxMXB4O1xuICB9XG5gO1xuXG5jb25zdCBGaWx0ZXJDb250cm9sID0gKHsgdmlld0ZpbHRlcnMsIHQsIG9uRmlsdGVyQ2xpY2ssIGZpbHRlciB9KSA9PiB7XG4gIGNvbnN0IGhhc0FjdGl2ZUZpbHRlciA9IGZpbHRlclxuICAgID8udmFsdWVTZXEoKVxuICAgIC50b0pTKClcbiAgICAuc29tZShmID0+IGYuYWN0aXZlID09PSB0cnVlKTtcblxuICByZXR1cm4gKFxuICAgIDxEcm9wZG93blxuICAgICAgcmVuZGVyQnV0dG9uPXsoKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEZpbHRlckJ1dHRvblxuICAgICAgICAgICAgY3NzPXtjc3NgXG4gICAgICAgICAgICAgIGNvbG9yOiAke2hhc0FjdGl2ZUZpbHRlciA/IGNvbG9ycy5hY3RpdmUgOiB1bmRlZmluZWR9O1xuICAgICAgICAgICAgYH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dCgnY29sbGVjdGlvbi5jb2xsZWN0aW9uVG9wLmZpbHRlckJ5Jyl9XG4gICAgICAgICAgPC9GaWx0ZXJCdXR0b24+XG4gICAgICAgICk7XG4gICAgICB9fVxuICAgICAgY2xvc2VPblNlbGVjdGlvbj17ZmFsc2V9XG4gICAgICBkcm9wZG93blRvcE92ZXJsYXA9XCIzMHB4XCJcbiAgICAgIGRyb3Bkb3duUG9zaXRpb249XCJsZWZ0XCJcbiAgICA+XG4gICAgICB7dmlld0ZpbHRlcnMubWFwKHZpZXdGaWx0ZXIgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxEcm9wZG93bkNoZWNrZWRJdGVtXG4gICAgICAgICAgICBrZXk9e3ZpZXdGaWx0ZXIuaWR9XG4gICAgICAgICAgICBsYWJlbD17dmlld0ZpbHRlci5sYWJlbH1cbiAgICAgICAgICAgIGlkPXt2aWV3RmlsdGVyLmlkfVxuICAgICAgICAgICAgY2hlY2tlZD17ZmlsdGVyLmdldEluKFt2aWV3RmlsdGVyLmlkLCAnYWN0aXZlJ10sIGZhbHNlKX1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uRmlsdGVyQ2xpY2sodmlld0ZpbHRlcil9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvRHJvcGRvd24+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB0cmFuc2xhdGUoKShGaWx0ZXJDb250cm9sKTtcbiJdfQ== */"))
      }, t('collection.collectionTop.filterBy'));
    },
    closeOnSelection: false,
    dropdownTopOverlap: "30px",
    dropdownPosition: "left"
  }, viewFilters.map(viewFilter => {
    return (0, _core.jsx)(_netlifyCmsUiDefault.DropdownCheckedItem, {
      key: viewFilter.id,
      label: viewFilter.label,
      id: viewFilter.id,
      checked: filter.getIn([viewFilter.id, 'active'], false),
      onClick: () => onFilterClick(viewFilter)
    });
  }));
};

var _default = (0, _reactPolyglot.translate)()(FilterControl);

exports.default = _default;